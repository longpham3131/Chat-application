{"version":3,"sources":["store/constants/chat.constant.js","store/actions/chat.action.js","components/Utils/FilePreview.jsx","components/ChatFeed/MessageForm.jsx","assets/img/default-image.jpg","components/ChatFeed/MyMessage.jsx","assets/img/default-avatar.jpg","components/ChatFeed/TheirMessage.jsx","components/Utils/Dialog.jsx","components/Utils/Loading.jsx","components/ChatFeed/index.jsx","store/constants/user.constant.js","store/actions/user.action.js","components/LoginForm.jsx","components/Utils/Dropdown.jsx","components/ChatSettings/ChatSettingOption.jsx","components/Utils/Select.jsx","components/ChatSettings/ChatSettingPeople.jsx","components/ChatSettings/ChatSettingPhoto.jsx","components/ChatSettings/ChatSettingTop.jsx","assets/img/logo192.png","components/ChatSettings/index.jsx","components/ChatList/ChatCard.jsx","components/ChatList/index.jsx","App.js","store/reducers/chat.reducer.js","store/reducers/user.reducer.js","store/reducers/root.reducer.js","store/index.js","index.js"],"names":["GET_CHAT_DETAIL","GET_MESSAGES","GET_LATEST_MESSAGE","PATCH_READ_MESSAGE","GET_CHAT_LIST","CHANGE_SELECTED_CHAT","LOADING_MESSAGE","CREATE_CHAT","updateLoading","status","type","payload","getChatDetail","chatId","dispatch","a","username","localStorage","getItem","password","authObject","axios","get","headers","data","getChatDetailAction","console","log","getMessages","getMessagesAction","isCompleted","getLatestMess","countMessage","getLatestMessAction","patchReadMessageAction","getChatList","result","getChatListAction","changeSelectedChat","changeSelectedChatAction","createChatAction","notify","FilePreview","file","handleRemoveFile","className","onClick","style","float","width","height","margin","controls","src","URL","createObjectURL","backgroundImage","backgroundPosition","backgroundSize","MessageForm","props","useDispatch","useState","value","setValue","listFilePreview","setListFilePreview","creds","selectedChat","useSelector","state","chatReducer","handleSubmit","event","preventDefault","text","trim","length","sendMessage","files","onSubmit","map","index","newFilePreviewList","filter","item","placeholder","onFocus","lastRead","latestMessage","body","last_read","patch","onChange","target","isTyping","htmlFor","lineHeight","PictureOutlined","id","display","newFile","push","transform","SendOutlined","MyMessage","message","handleShowImage","isLoadingImg","setIsLoadingImg","attachments","attach","includes","DefaultImage","alt","onLoad","cursor","backgroundColor","marginRight","color","href","rel","TheirMessage","lastMessage","isLoadingAvatar","setIsLoadingAvatar","isLoadingImage","setIsLoadingImage","isFirtstMessageByUser","sender","DefaultAvatar","avatar","marginLeft","handleTypeOfMessage","Dialog","title","content","isShow","handleHideDialog","btnSubmitName","isLoading","setisLoading","useEffect","visible","closable","centered","footer","danger","onCancel","position","top","right","visibility","Loading","textAlign","fontWeight","ChatFeed","chats","activeChat","userName","connecting","scrollDownHere","useRef","isShowModal","setIsShowModal","setFile","isScrollTop","setIsScrollTop","numberMessage","setNumberMessage","chat","loadingMessage","messages","last_message","current","scrollIntoView","behavior","renderReadReceipts","isMyMessage","people","person","onScroll","e","messHeightest","document","getElementById","getBoundingClientRect","handleScrollTopChatFeed","lastMessageKey","ref","GET_CHAT_USER","GET_OTHER_USERS","GET_ALL_USER","getChatUserAction","getAllUSer","getOtherUsersAction","putRemoveChatMember","member","put","setTimeout","TabPane","Tabs","LoginForm","setUsername","setPassword","setSelectedTab","chatUser","defaultActiveKey","key","size","tab","name","labelCol","span","wrapperCol","initialValues","remember","onFinish","setItem","window","location","reload","getChatUser","Item","label","rules","required","Password","offset","htmlType","Dropdown","setIsShow","ChatSettingOption","removeItem","Option","Select","SelectComp","options","changeSelected","mode","allowClear","borderRadius","ChatSettingPeople","otherUsers","setOtherUsers","isShowAddMember","setIsShowAddMember","selectedUsers","setSelectedUsers","isShowDialog","setIsShowDialog","contentRemove","setContentRemove","selectedUserRemove","setSelectedUserRemove","otherUsersStore","user","marginTop","listNewMember","post","getOtherUsers","is_online","userRemoved","renderListPeople","ChatSettingPhoto","overflowY","maxHeight","paddingBottom","paddingTop","flex","padding","handleOpenImage","ChatSettingTop","marginBottom","ChatSettings","dataSetting","chatDetail","ChatCard","selected","created","moment","fromNow","split","word","slice","handleText","ChatList","chatList","users","userReducer","allUser","contentDialog","setContentDialog","newChatTitle","setNewChatTitle","selectedChatUsers","setSelectedChatUsers","NotificationManager","success","error","checked","newList","usernameCurrent","onChangeCheckbox","findIndex","first_name","last_name","usernames","is_direct_chat","App","projectID","userSecret","renderChatFeed","chatAppProps","renderChatSettings","renderChatList","initialState","readMessage","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.af6dd940.chunk.js","sourcesContent":["export const GET_CHAT_DETAIL = \"GET_CHAT_DETAIL\";\r\n\r\nexport const GET_MESSAGES = \"GET_MESSAGES\";\r\n\r\nexport const GET_LATEST_MESSAGE = \"GET_LATEST_MESSAGE\";\r\n\r\nexport const PATCH_READ_MESSAGE = \"PATCH_READ_MESSAGE\";\r\n\r\nexport const GET_CHAT_LIST = \"GET_CHAT_LIST\";\r\n\r\nexport const CHANGE_SELECTED_CHAT = \"CHANGE_SELECTED_CHAT\";\r\n\r\nexport const LOADING_MESSAGE = \"LOADING_MESSAGE\";\r\n\r\nexport const CREATE_CHAT = \"CREATE_CHAT\";\r\n","import axios from \"axios\";\r\nimport {\r\n  GET_CHAT_DETAIL,\r\n  GET_MESSAGES,\r\n  GET_LATEST_MESSAGE,\r\n  PATCH_READ_MESSAGE,\r\n  GET_CHAT_LIST,\r\n  CHANGE_SELECTED_CHAT,\r\n  LOADING_MESSAGE,\r\n  CREATE_CHAT,\r\n} from \"../constants/chat.constant\";\r\n\r\nconst updateLoading = (status) => {\r\n  return { type: LOADING_MESSAGE, payload: status };\r\n};\r\n\r\n//Get chat detail\r\n\r\nexport const getChatDetail = (chatId) => {\r\n  return async (dispatch) => {\r\n    const username = localStorage.getItem(\"username\");\r\n    const password = localStorage.getItem(\"password\");\r\n    const authObject = {\r\n      \"Project-ID\": \"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\",\r\n      \"User-Name\": username,\r\n      \"User-Secret\": password,\r\n    };\r\n    try {\r\n      const data = await axios.get(\r\n        `https://api.chatengine.io/chats/${chatId}/`,\r\n        { headers: authObject }\r\n      );\r\n      dispatch(getChatDetailAction(data.data));\r\n    } catch (error) {\r\n      console.log(\"ERR_CHAT_DETAIL\", error);\r\n    }\r\n  };\r\n};\r\nconst getChatDetailAction = (data) => {\r\n  return { type: GET_CHAT_DETAIL, payload: data };\r\n};\r\n\r\n// Get message\r\n\r\nexport const getMessages = (chatId) => {\r\n  return async (dispatch) => {\r\n    const username = localStorage.getItem(\"username\");\r\n    const password = localStorage.getItem(\"password\");\r\n    const authObject = {\r\n      \"Project-ID\": \"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\",\r\n      \"User-Name\": username,\r\n      \"User-Secret\": password,\r\n    };\r\n    try {\r\n      const data = await axios.get(\r\n        `https://api.chatengine.io/chats/${chatId}/messages`,\r\n        { headers: authObject }\r\n      );\r\n\r\n      dispatch(getMessagesAction(data.data));\r\n    } catch (error) {\r\n      console.log(\"ERR_MESSAGES\", error);\r\n    }\r\n  };\r\n};\r\nconst getMessagesAction = (data) => {\r\n  return { type: GET_MESSAGES, payload: { data, isCompleted: true } };\r\n};\r\n//Get latest message\r\nexport const getLatestMess = (chatId, countMessage = 1) => {\r\n  return async (dispatch) => {\r\n    dispatch(updateLoading(true));\r\n    const username = localStorage.getItem(\"username\");\r\n    const password = localStorage.getItem(\"password\");\r\n    const authObject = {\r\n      \"Project-ID\": \"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\",\r\n      \"User-Name\": username,\r\n      \"User-Secret\": password,\r\n    };\r\n    try {\r\n      const data = await axios.get(\r\n        `https://api.chatengine.io/chats/${chatId}/messages/latest/${countMessage}/`,\r\n        { headers: authObject }\r\n      );\r\n      dispatch(updateLoading(false));\r\n      dispatch(getLatestMessAction(data.data));\r\n    } catch (error) {\r\n      dispatch(updateLoading(false));\r\n      console.log(\"ERR_MESSAGES\", error);\r\n    }\r\n  };\r\n};\r\nconst getLatestMessAction = (data) => {\r\n  return { type: GET_LATEST_MESSAGE, payload: data };\r\n};\r\n\r\n//PATCH read message\r\nexport const patchReadMessage = (chatId, lastRead) => {\r\n  return async (dispatch) => {\r\n    const username = localStorage.getItem(\"username\");\r\n    const password = localStorage.getItem(\"password\");\r\n    const authObject = {\r\n      \"Project-ID\": \"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\",\r\n      \"User-Name\": username,\r\n      \"User-Secret\": password,\r\n    };\r\n    const body = { last_read: lastRead };\r\n    try {\r\n      const data = await axios.patch(\r\n        `https://api.chatengine.io/chats/${chatId}/people/`,\r\n        body,\r\n        { headers: authObject }\r\n      );\r\n\r\n      dispatch(patchReadMessageAction(data.data));\r\n    } catch (error) {\r\n      console.log(\"ERR_READ_MESSAGE\", error);\r\n    }\r\n  };\r\n};\r\nconst patchReadMessageAction = (data) => {\r\n  return { type: PATCH_READ_MESSAGE, payload: data };\r\n};\r\n\r\n//GET_CHAT_LIST\r\nexport const getChatList = () => {\r\n  return async (dispatch) => {\r\n    const username = localStorage.getItem(\"username\");\r\n    const password = localStorage.getItem(\"password\");\r\n    const authObject = {\r\n      \"Project-ID\": \"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\",\r\n      \"User-Name\": username,\r\n      \"User-Secret\": password,\r\n    };\r\n    try {\r\n      const result = await axios.get(`https://api.chatengine.io/chats/`, {\r\n        headers: authObject,\r\n      });\r\n\r\n      dispatch(getChatListAction(result.data));\r\n    } catch (error) {\r\n      console.log(\"ERR_GET_CHAT_LIST\", error);\r\n    }\r\n  };\r\n};\r\n\r\nconst getChatListAction = (data) => {\r\n  return { type: GET_CHAT_LIST, payload: data };\r\n};\r\n\r\n// CHANGE_SELECTED_CHAT\r\nexport const changeSelectedChat = (chatId) => {\r\n  return async (dispatch) => {\r\n    console.log(\"CHANGE\", chatId);\r\n    await dispatch(changeSelectedChatAction(chatId));\r\n    await dispatch(getMessages(chatId));\r\n    await dispatch(getChatDetail(chatId));\r\n  };\r\n};\r\n\r\nconst changeSelectedChatAction = (chatId) => {\r\n  return { type: CHANGE_SELECTED_CHAT, payload: chatId };\r\n};\r\n\r\n//CREATE CHAT\r\nexport const createChat = (usernames, title) => {\r\n  return async (dispatch) => {\r\n    const username = localStorage.getItem(\"username\");\r\n    const password = localStorage.getItem(\"password\");\r\n    const authObject = {\r\n      \"Project-ID\": \"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\",\r\n      \"User-Name\": username,\r\n      \"User-Secret\": password,\r\n    };\r\n    try {\r\n      const result = await axios.put(\r\n        `https://api.chatengine.io/chats/`,\r\n        {\r\n          usernames,\r\n          title,\r\n          is_direct_chat: false,\r\n        },\r\n        {\r\n          headers: authObject,\r\n        }\r\n      );\r\n      await dispatch(\r\n        createChatAction({\r\n          type: \"CREATE_CHAT\",\r\n          message: \"Create new chat success\",\r\n          status: \"success\",\r\n        })\r\n      );\r\n      await dispatch(getChatList());\r\n      await dispatch(changeSelectedChat(result.data.id));\r\n    } catch (error) {\r\n      console.log(\"ERR_CREATE_CHAT\", error);\r\n      dispatch(\r\n        createChatAction({\r\n          type: \"CREATE_CHAT\",\r\n          message: \"Create new chat fail\",\r\n          status: \"fail\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n};\r\nconst createChatAction = (notify) => {\r\n  return { type: CREATE_CHAT, payload: notify };\r\n};\r\n","import { useState } from \"react\";\r\nimport \"./styles/filePreview.css\";\r\nconst FilePreview = ({ file, handleRemoveFile }) => {\r\n  // const [fileUpload, setFileUpload] = useState(null);\r\n\r\n  // const onUploadFile = () => {\r\n  //   let fileUpload = file;\r\n  //   let reader = new FileReader();\r\n  //   let url = reader.readAsDataURL(fileUpload);\r\n  //   reader.onloadend = () => {\r\n  //     setFileUpload(reader.result);\r\n  //   };\r\n  // };\r\n  // onUploadFile();\r\n  return (\r\n    <div className=\"filePreview\">\r\n      <span\r\n        className=\"filePreview__iconDelete\"\r\n        onClick={() => {\r\n          handleRemoveFile(file);\r\n          // console.log(\"FILE\", fileUpload);\r\n        }}\r\n      >\r\n        X\r\n      </span>\r\n      {file.type === \"video/mp4\" ? (\r\n        <video\r\n          style={{\r\n            float: \"right \",\r\n            width: \"100px\",\r\n            height: \"100px\",\r\n            margin: \"10px\",\r\n          }}\r\n          controls\r\n        >\r\n          <source src={URL.createObjectURL(file)} type=\"video/mp4\" />\r\n        </video>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            width: \"100px\",\r\n            height: \"100px\",\r\n            margin: \"10px\",\r\n            backgroundImage: `url(${URL.createObjectURL(file)})`,\r\n            backgroundPosition: \"center\",\r\n            backgroundSize: \"cover\",\r\n          }}\r\n        ></div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default FilePreview;\r\n","import { useState } from \"react\";\r\nimport { sendMessage, isTyping } from \"react-chat-engine\";\r\nimport { PictureOutlined, SendOutlined } from \"@ant-design/icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { patchReadMessage } from \"../../store/actions/chat.action\";\r\nimport FilePreview from \"../Utils/FilePreview\";\r\nimport \"./styles/messageForm.css\";\r\n\r\nconst MessageForm = (props) => {\r\n  const dispatch = useDispatch();\r\n  const [value, setValue] = useState(\"\");\r\n  const [listFilePreview, setListFilePreview] = useState([]);\r\n  // const [listFileUpload, setListFileUpload] = useState([])\r\n  const { creds } = props;\r\n\r\n  const selectedChat = useSelector((state) => state.chatReducer.selectedChat);\r\n\r\n  const handleSubmit = (event) => {\r\n    console.log(\"LIST FILE\", listFilePreview);\r\n    event.preventDefault();\r\n\r\n    const text = value.trim();\r\n\r\n    if (text.length > 0 || listFilePreview.length > 0) {\r\n      sendMessage(creds, selectedChat, { text, files: listFilePreview });\r\n    }\r\n\r\n    setValue(\"\");\r\n    setListFilePreview([]);\r\n  };\r\n  const handleFocus = () => {\r\n    dispatch(patchReadMessage(selectedChat, props.latestMessage));\r\n  };\r\n  const handleChange = (event) => {\r\n    setValue(event.target.value);\r\n\r\n    isTyping(props, selectedChat);\r\n  };\r\n  const onShowPreview = (event) => {\r\n    // console.log(\"EVEVNT\", listFilePreview, event.target.files);\r\n    // let file = event.target.files[0];\r\n    // let reader = new FileReader();\r\n    // let url = reader.readAsDataURL(file);\r\n    // const filePreview = [...listFilePreview];\r\n\r\n    // reader.onloadend = () => {\r\n    //   filePreview.push(reader.result);\r\n    //   setListFilePreview(filePreview);\r\n    // };\r\n    const newFile = [...listFilePreview];\r\n    newFile.push(event.target.files[0]);\r\n    setListFilePreview(newFile);\r\n\r\n    // sendMessage(creds, selectedChat, { files: event.target.files, text: \"\" });\r\n  };\r\n  const handleRemoveFile = (file) => {\r\n    const newFilePreviewList = listFilePreview.filter((item) => item !== file);\r\n    setListFilePreview(newFilePreviewList);\r\n  };\r\n  return (\r\n    <form className=\"message-form\" onSubmit={handleSubmit}>\r\n      {/* Chỗ Load ảnh  */}\r\n      {listFilePreview.length > 0 && (\r\n        <div className=\"file-preview scrollbar-custom d-flex m-2\">\r\n          {listFilePreview.map((file, index) => (\r\n            <FilePreview\r\n              file={file}\r\n              key={index}\r\n              handleRemoveFile={(file) => handleRemoveFile(file)}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Input nhập tin nhắn*/}\r\n      <input\r\n        className=\"message-input\"\r\n        placeholder=\"...Send a message\"\r\n        onFocus={handleFocus}\r\n        onChange={handleChange}\r\n        onSubmit={handleSubmit}\r\n        value={value}\r\n      />\r\n\r\n      <label\r\n        htmlFor=\"upload-button\"\r\n        style={{ float: \"right\", lineHeight: \"8px\" }}\r\n      >\r\n        <span className=\"image-button\">\r\n          <PictureOutlined className=\"picture-icon\" />\r\n        </span>\r\n\r\n        <input\r\n          type=\"file\"\r\n          id=\"upload-button\"\r\n          style={{ display: \"none\" }}\r\n          onChange={onShowPreview}\r\n        />\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"send-button\"\r\n          style={{ transform: \"rotate(90deg)\" }}\r\n        >\r\n          <SendOutlined className=\"send-icon\" />\r\n        </button>\r\n      </label>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MessageForm;\r\n","export default \"data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/9k=\"","import { useState } from \"react\";\r\nimport DefaultImage from \"../../assets/img/default-image.jpg\";\r\nconst MyMessage = ({ message, handleShowImage }) => {\r\n  const [isLoadingImg, setIsLoadingImg] = useState(true);\r\n  // Kiểm tra tín nhắn có ảnh không\r\n  if (message?.attachments?.length > 0) {\r\n    return message.attachments.map((attach, index) => {\r\n      if (attach.file.includes(\".mp4\")) {\r\n        return (\r\n          <video\r\n            width=\"320\"\r\n            height=\"240\"\r\n            className=\"message-image\"\r\n            style={{ float: \"right \" }}\r\n            controls\r\n          >\r\n            <source src={attach.file} type=\"video/mp4\" />\r\n          </video>\r\n        );\r\n      }\r\n      return (\r\n        <img\r\n          src={isLoadingImg ? DefaultImage : attach.file}\r\n          alt=\"message-attachment\"\r\n          className=\"message-image\"\r\n          onClick={() => handleShowImage(attach.file)}\r\n          onLoad={() => {\r\n            setIsLoadingImg(false);\r\n          }}\r\n          style={{\r\n            float: \"right \",\r\n            cursor: \"pointer\",\r\n            backgroundColor: \"#c3c3c3\",\r\n          }}\r\n          key={index}\r\n        />\r\n      );\r\n    });\r\n  }\r\n  return (\r\n    <div\r\n      className=\"message-chat\"\r\n      style={{\r\n        float: \"right\",\r\n        marginRight: \"18px\",\r\n        color: \"white\",\r\n        backgroundColor: \"#3b2a50\",\r\n      }}\r\n    >\r\n      {message.text.includes(\"https\") ? (\r\n        <a\r\n          href={message.text}\r\n          target=\"_blank\"\r\n          style={{ color: \"white\" }}\r\n          rel=\"noreferrer\"\r\n        >\r\n          {message.text}{\" \"}\r\n        </a>\r\n      ) : (\r\n        message.text\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyMessage;\r\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBWRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nIHg6eG1wdGs9J0ltYWdlOjpFeGlmVG9vbCAxMC4xMCc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp0aWZmPSdodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyc+CiAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICA8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4KICA8dGlmZjpZUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpZUmVzb2x1dGlvbj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wTU09J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8nPgogIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnN0b2NrOjZmOTgyYThhLTA2YzUtNDJkMC05YmU3LWI1NDQ3ZjRmNzhlNTwveG1wTU06RG9jdW1lbnRJRD4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmJkYjhmNDM5LTIzNTctNDYwMi1iYTY0LWFjOWQzMTA5MmIxNjwveG1wTU06SW5zdGFuY2VJRD4KIDwvcmRmOkRlc2NyaXB0aW9uPgo8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwAFAwQEBAMFBAQEBQUFBgcMCAcHBwcPCwsJDBEPEhIRDxERExYcFxMUGhURERghGBodHR8fHxMXIiQiHiQcHh8e/8AACwgBaAFoAQERAP/EABwAAQACAwEBAQAAAAAAAAAAAAAGBwIEBQMBCP/EAEAQAAICAQICBQgIAwcFAAAAAAABAgMEBREGIRIiMUFRBxNhcZGhwdEUMkJSU3KBsRUkMxYjNDViwvBDdJKTsv/aAAgBAQAAPwD9lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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\"","import DefaultImage from \"../../assets/img/default-image.jpg\";\r\nimport DefaultAvatar from \"../../assets/img/default-avatar.jpg\";\r\nimport { useState } from \"react\";\r\nconst TheirMessage = ({ lastMessage, message, handleShowImage }) => {\r\n  const [isLoadingAvatar, setIsLoadingAvatar] = useState(true);\r\n  const [isLoadingImage, setIsLoadingImage] = useState(true);\r\n  const isFirtstMessageByUser =\r\n    !lastMessage || lastMessage.sender.username !== message.sender.username;\r\n\r\n  const handleTypeOfMessage = () => {\r\n    if (message?.attachments?.length > 0) {\r\n      //Video\r\n      return (\r\n        <div className=\"message-block\">\r\n          {message.attachments.map((item, index) => {\r\n            if (item.file.includes(\".mp4\")) {\r\n              return (\r\n                <video\r\n                  width=\"320\"\r\n                  height=\"240\"\r\n                  className=\"message-image\"\r\n                  style={{\r\n                    float: \"left \",\r\n                    marginLeft: isFirtstMessageByUser ? \"4px\" : \"48px\",\r\n                  }}\r\n                  controls\r\n                >\r\n                  <source src={item.file} type=\"video/mp4\" />\r\n                </video>\r\n              );\r\n            }\r\n            return (\r\n              <img\r\n                src={isLoadingImage ? DefaultImage : item.file}\r\n                alt=\"message-attachment\"\r\n                className=\"message-image\"\r\n                onClick={() => handleShowImage(item.file)}\r\n                style={{\r\n                  marginLeft: isFirtstMessageByUser ? \"4px\" : \"48px\",\r\n                  float: \"left\",\r\n                  cursor: \"pointer\",\r\n                  backgroundColor: \"#c3c3c3\",\r\n                }}\r\n                onLoad={() => {\r\n                  setIsLoadingImage(false);\r\n                }}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    } else {\r\n      //Link\r\n      if (message.text.includes(\"https\")) {\r\n        return (\r\n          <div\r\n            className=\"message-chat\"\r\n            style={{\r\n              float: \"left\",\r\n              backgroundColor: \"#CABCDC\",\r\n              marginLeft: isFirtstMessageByUser ? \"4px\" : \"48px\",\r\n            }}\r\n          >\r\n            <a href={message.text} target=\"_blank\" rel=\"noreferrer\">\r\n              {message.text}{\" \"}\r\n            </a>\r\n          </div>\r\n        );\r\n      }\r\n      //text\r\n      return (\r\n        <div\r\n          className=\"message-chat\"\r\n          style={{\r\n            float: \"left\",\r\n            backgroundColor: \"#CABCDC\",\r\n            marginLeft: isFirtstMessageByUser ? \"4px\" : \"48px\",\r\n          }}\r\n        >\r\n          {message.text}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"message-row\">\r\n      {isFirtstMessageByUser && (\r\n        <img\r\n          className=\"message-avatar\"\r\n          src={isLoadingAvatar ? DefaultAvatar : message?.sender?.avatar}\r\n          style={{\r\n            backgroundColor: \"#c3c3c3\",\r\n          }}\r\n          alt=\"avatar-sender\"\r\n          onLoad={() => {\r\n            setIsLoadingAvatar(false);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {handleTypeOfMessage()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TheirMessage;\r\n","import { Modal, Button } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport DefaultImage from \"../../assets/img/default-image.jpg\";\r\nimport Loader from \"react-loader-spinner\";\r\nconst Dialog = ({\r\n  type = \"file\",\r\n  title = \"\",\r\n  content = \"\",\r\n  isShow,\r\n  handleHideDialog,\r\n  btnSubmitName = \"Confirm\",\r\n  onSubmit,\r\n}) => {\r\n  const [isLoading, setisLoading] = useState(true);\r\n  useEffect(() => {\r\n    if (isShow) {\r\n      setisLoading(true);\r\n    }\r\n  }, [isShow]);\r\n  const customFooter = () => {\r\n    return (\r\n      <div>\r\n        <Button\r\n          danger\r\n          onClick={() => {\r\n            handleHideDialog();\r\n          }}\r\n        >\r\n          Close\r\n        </Button>\r\n        <Button type=\"primary\" onClick={onSubmit}>\r\n          {btnSubmitName}\r\n        </Button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const onRenderContent = () => {\r\n    if (type === \"file\") {\r\n      return (\r\n        <div style={{ position: \"relative\" }}>\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: \"45%\",\r\n              right: \"45%\",\r\n              visibility: isLoading ? \"visible\" : \"hidden\",\r\n            }}\r\n          >\r\n            <Loader type=\"Oval\" color=\"#7554a0\" height={50} width={50} />\r\n          </div>\r\n          <img\r\n            src={content}\r\n            alt=\"img\"\r\n            className=\"w-100\"\r\n            style={{\r\n              backgroundColor: \"#c3c3c3\",\r\n              height: isLoading ? \"300px\" : \"unset\",\r\n            }}\r\n            onLoad={() => {\r\n              setisLoading(false);\r\n            }}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return content;\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={isShow}\r\n      title={title}\r\n      closable={false}\r\n      centered={true}\r\n      footer={type === \"file\" ? null : customFooter()}\r\n      onCancel={() => {\r\n        handleHideDialog();\r\n      }}\r\n    >\r\n      {onRenderContent()}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Dialog;\r\n","import Loader from \"react-loader-spinner\";\r\nconst Loading = ({ content }) => {\r\n  return (\r\n    <div style={{ textAlign: \"center\" }}>\r\n      <Loader type=\"Bars\" color=\"#7554a0\" height={30} width={30} />\r\n      <p style={{ color: \"#7554a0\", fontWeight: \"500\" }}>{content}</p>\r\n    </div>\r\n  );\r\n};\r\nexport default Loading;\r\n","import MessageForm from \"./MessageForm\";\r\nimport MyMessage from \"./MyMessage\";\r\nimport TheirMessage from \"./TheirMessage\";\r\nimport Dialog from \"../Utils/Dialog\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport Loading from \"../Utils/Loading\";\r\nimport { IsTyping } from \"react-chat-engine\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getLatestMess, getMessages } from \"../../store/actions/chat.action\";\r\nimport DefaultAvatar from \"../../assets/img/default-avatar.jpg\";\r\n\r\nconst ChatFeed = (props) => {\r\n  const { chats, activeChat, userName, connecting } = props;\r\n  const dispatch = useDispatch();\r\n  const scrollDownHere = useRef(null);\r\n  const [isShowModal, setIsShowModal] = useState(false);\r\n  const [file, setFile] = useState(null);\r\n  const [isLoadingAvatar, setIsLoadingAvatar] = useState(true);\r\n  const selectedChat = useSelector((state) => state.chatReducer.selectedChat);\r\n  const [isScrollTop, setIsScrollTop] = useState(false);\r\n  const [numberMessage, setNumberMessage] = useState(10);\r\n\r\n  const chat = chats && chats[selectedChat];\r\n  const loadingMessage = useSelector(\r\n    (state) => state.chatReducer.loadingMessage\r\n  );\r\n  // const messages = useSelector((state) => state.chatReducer.messages);\r\n  const messages = useSelector((state) => state.chatReducer.latestMessage);\r\n\r\n  useEffect(() => {\r\n    if (chat?.last_message?.id !== messages[messages.length - 1]?.id) {\r\n      dispatch(getLatestMess(selectedChat, numberMessage));\r\n    }\r\n    if (isScrollTop) {\r\n      setIsScrollTop(false);\r\n    }\r\n  }, [chat?.last_message]);\r\n\r\n  useEffect(() => {\r\n    if (!isScrollTop) {\r\n      scrollDownHere.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  }, [messages]);\r\n\r\n  const renderReadReceipts = (message, isMyMessage) =>\r\n    chat?.people?.map(\r\n      (person, index) =>\r\n        person.last_read === message.id &&\r\n        person.person.username !== localStorage.getItem(\"username\") && (\r\n          <img\r\n            key={`read_${index}`}\r\n            className=\"read-receipt\"\r\n            src={isLoadingAvatar ? DefaultAvatar : person.person.avatar}\r\n            alt=\"avatar-receipt\"\r\n            onLoad={() => {\r\n              setIsLoadingAvatar(false);\r\n            }}\r\n            style={{\r\n              float: isMyMessage ? \"right\" : \"left\",\r\n            }}\r\n          />\r\n        )\r\n    );\r\n\r\n  const renderMessage = () => {\r\n    if (messages.length === 0 && !loadingMessage)\r\n      return <div className=\"text-center\">No message</div>;\r\n\r\n    return messages.map((message, index) => {\r\n      const lastMessageKey = index === 0 ? null : messages[index - 1];\r\n      const isMyMessage = userName === message.sender.username;\r\n\r\n      return (\r\n        <div key={`msg_${index}`} style={{ width: \"100%\" }}>\r\n          <div\r\n            className=\"message-block\"\r\n            id={index === 0 ? \"messHeightest\" : \"\"}\r\n          >\r\n            {isMyMessage ? (\r\n              <MyMessage\r\n                message={message}\r\n                handleShowImage={(file) => {\r\n                  setFile(file);\r\n                  setIsShowModal(true);\r\n                }}\r\n              />\r\n            ) : (\r\n              <TheirMessage\r\n                message={message}\r\n                lastMessage={messages[lastMessageKey]}\r\n                handleShowImage={(file) => {\r\n                  setFile(file);\r\n                  setIsShowModal(true);\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n\r\n          <div\r\n            className=\"read-receipts\"\r\n            style={{\r\n              marginRight: isMyMessage ? \"18px\" : \"0px\",\r\n              marginLeft: isMyMessage ? \"0px\" : \"68px\",\r\n            }}\r\n          >\r\n            {renderReadReceipts(message, isMyMessage)}\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const handleScrollTopChatFeed = (event) => {\r\n    const messHeightest = document.getElementById(\"messHeightest\");\r\n\r\n    if (messHeightest?.getBoundingClientRect().top === 106) {\r\n      // console.log(\r\n      //   \"CALL API MESS\",\r\n      //   messHeightest.getBoundingClientRect().top,\r\n      //   numberMessage\r\n      // );\r\n      setIsScrollTop(true);\r\n      dispatch(getLatestMess(selectedChat, numberMessage));\r\n      setNumberMessage(numberMessage + 10);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"chat-feed\"\r\n      onScroll={(e) => {\r\n        handleScrollTopChatFeed(e);\r\n      }}\r\n    >\r\n      <div className=\"chat-title-container\">\r\n        <div className=\"chat-title\">{chat?.title}</div>\r\n        <div className=\"chat-subtitle\">\r\n          {chat?.people.map((person) => `${person?.person?.username}, `)}\r\n        </div>\r\n      </div>\r\n      {connecting || loadingMessage ? (\r\n        <Loading content={\"Loading message...\"} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {/* <Loading content={\"Loading message...\"} /> */}\r\n      <Dialog\r\n        isShow={isShowModal}\r\n        content={file}\r\n        handleHideDialog={() => {\r\n          setIsShowModal(false);\r\n        }}\r\n      />\r\n\r\n      {renderMessage()}\r\n      <IsTyping />\r\n      <div style={{ height: \"100px\" }} ref={scrollDownHere} />\r\n      <div className=\"message-form-container\">\r\n        <MessageForm\r\n          {...props}\r\n          chatId={activeChat}\r\n          latestMessage={chat?.last_message?.id}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatFeed;\r\n","export const GET_CHAT_USER = \"GET_CHAT_USER\";\r\n\r\nexport const GET_OTHER_USERS = \"GET_OTHER_USERS\";\r\n\r\nexport const POST_ADD_CHAT_MEMBER = \"POST_ADD_CHAT_MEMBER\";\r\n\r\nexport const GET_ALL_USER = \"GET_ALL_USER\";\r\n","import axios from \"axios\";\r\nimport {\r\n  GET_ALL_USER,\r\n  GET_CHAT_USER,\r\n  GET_OTHER_USERS,\r\n} from \"../constants/user.constant\";\r\nimport { getChatDetail } from \"./chat.action\";\r\n\r\n// Get chat user\r\nexport const getChatUser = (username, password) => {\r\n  return async (dispatch) => {\r\n    const authObject = {\r\n      \"Project-ID\": \"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\",\r\n      \"User-Name\": username,\r\n      \"User-Secret\": password,\r\n    };\r\n    try {\r\n      await axios.get(\"https://api.chatengine.io/chats\", {\r\n        headers: authObject,\r\n      });\r\n\r\n      localStorage.setItem(\"username\", username);\r\n      localStorage.setItem(\"password\", password);\r\n      dispatch(getChatUserAction(\"\"));\r\n      window.location.reload();\r\n    } catch (error) {\r\n      dispatch(getChatUserAction(\"Username or password invalid\"));\r\n    }\r\n  };\r\n};\r\n\r\nconst getChatUserAction = (status) => {\r\n  return { type: GET_CHAT_USER, payload: status };\r\n};\r\n\r\n//GET ALL USER\r\nexport const getAllUser = () => {\r\n  return async (dispatch) => {\r\n    const authObject = {\r\n      \"PRIVATE-KEY\": \"32ad916a-34a5-4937-9328-8c0ddaea471e\",\r\n    };\r\n    try {\r\n      const result = await axios.get(\"https://api.chatengine.io/users\", {\r\n        headers: authObject,\r\n      });\r\n\r\n      dispatch(getAllUSer(result.data));\r\n    } catch (error) {\r\n      console.log(\"ERR_GET_ALL_USER\", error);\r\n    }\r\n  };\r\n};\r\n\r\nconst getAllUSer = (data) => {\r\n  return { type: GET_ALL_USER, payload: data };\r\n};\r\n\r\n//GET OTHER USER\r\nexport const getOtherUsers = (chatId) => {\r\n  return async (dispatch) => {\r\n    const username = localStorage.getItem(\"username\");\r\n    const password = localStorage.getItem(\"password\");\r\n    const authObject = {\r\n      \"Project-ID\": \"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\",\r\n      \"User-Name\": username,\r\n      \"User-Secret\": password,\r\n    };\r\n    try {\r\n      const data = await axios.get(\r\n        `https://api.chatengine.io/chats/${chatId}/others/`,\r\n        { headers: authObject }\r\n      );\r\n      console.log(\"DATA USER\", data);\r\n      dispatch(getOtherUsersAction(data.data));\r\n    } catch (error) {\r\n      console.log(\"ERR_OTHER_USERS\", error);\r\n    }\r\n  };\r\n};\r\nconst getOtherUsersAction = (data) => {\r\n  return { type: GET_OTHER_USERS, payload: data };\r\n};\r\n\r\n//POST ADD CHAT MEMBERS\r\nexport const postAddChatMember = (chatId, listNewMember) => {\r\n  return async (dispatch) => {\r\n    const username = localStorage.getItem(\"username\");\r\n    const password = localStorage.getItem(\"password\");\r\n    const authObject = {\r\n      \"Project-ID\": \"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\",\r\n      \"User-Name\": username,\r\n      \"User-Secret\": password,\r\n    };\r\n    try {\r\n      await listNewMember.map((user) => {\r\n        axios.post(\r\n          `https://api.chatengine.io/chats/${chatId}/people/`,\r\n          { username: user },\r\n          { headers: authObject }\r\n        );\r\n      });\r\n      setTimeout(() => {\r\n        dispatch(getChatDetail(chatId));\r\n      }, 2000);\r\n    } catch (error) {\r\n      console.log(\"ERR_OTHER_USERS\", error);\r\n    }\r\n  };\r\n};\r\n//POST REMOVE CHAT MEMBER\r\nexport const putRemoveChatMember = (chatId, member) => {\r\n  return async (dispatch) => {\r\n    const username = localStorage.getItem(\"username\");\r\n    const password = localStorage.getItem(\"password\");\r\n    const authObject = {\r\n      \"Project-ID\": \"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\",\r\n      \"User-Name\": username,\r\n      \"User-Secret\": password,\r\n    };\r\n    try {\r\n      await axios.put(\r\n        `https://api.chatengine.io/chats/${chatId}/people/`,\r\n        { username: member },\r\n        { headers: authObject }\r\n      );\r\n\r\n      setTimeout(() => {\r\n        dispatch(getChatDetail(chatId));\r\n      }, 2000);\r\n    } catch (error) {\r\n      console.log(\"ERR_OTHER_USERS\", error);\r\n    }\r\n  };\r\n};\r\n","import { useState } from \"react\";\r\nimport { getChatUser } from \"../store/actions/user.action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Tabs, Form, Input, Button, Checkbox } from \"antd\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst LoginForm = () => {\r\n  const dispatch = useDispatch();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [selectedTab, setSelectedTab] = useState(0);\r\n  const getChatUserStatus = useSelector((state) => state.chatReducer.chatUser);\r\n\r\n  const handleSubmit = (e) => {\r\n    // console.log(\"SUBMIT\");\r\n    // e.preventDefault();\r\n    dispatch(getChatUser(username, password));\r\n  };\r\n\r\n  function callback(key) {\r\n    setSelectedTab(key);\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      {/* <h1 className=\"title-custom\">Chat Application</h1> */}\r\n      <div className=\"wrapper__loginForm\">\r\n        <Tabs defaultActiveKey=\"1\" onChange={callback} size={\"large\"}>\r\n          <TabPane tab=\"Login\" key=\"1\">\r\n            <Form\r\n              name=\"basic\"\r\n              labelCol={{ span: 5 }}\r\n              wrapperCol={{ span: 20 }}\r\n              initialValues={{ remember: true }}\r\n              onFinish={handleSubmit}\r\n            >\r\n              <Form.Item\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                rules={[\r\n                  { required: true, message: \"Please input your username!\" },\r\n                ]}\r\n              >\r\n                <Input\r\n                  value={username}\r\n                  onChange={(e) => setUsername(e.target.value)}\r\n                />\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                rules={[\r\n                  { required: true, message: \"Please input your password!\" },\r\n                ]}\r\n              >\r\n                <Input.Password\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n              </Form.Item>\r\n\r\n              <Form.Item wrapperCol={{ offset: 20, span: 20 }}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                  Login\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n            {/* <div className=\"form\">\r\n            <form onSubmit={handleSubmit}>\r\n              <input\r\n                type=\"text\"\r\n                className=\"input\"\r\n                placeholder=\"Username\"\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"password\"\r\n                className=\"input\"\r\n                placeholder=\"Password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n              <div align=\"center\">\r\n                <h2\r\n                  className=\"error\"\r\n                  style={{\r\n                    display: getChatUserStatus !== \"\" ? \"block\" : \"none\",\r\n                  }}\r\n                >\r\n                  {getChatUserStatus}\r\n                </h2>\r\n                <button type=\"submit\" className=\"button\">\r\n                  <span>Start Chatting</span>\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div> */}\r\n          </TabPane>\r\n          <TabPane tab=\"Register\" key=\"2\">\r\n            Content of Tab Pane 2\r\n          </TabPane>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import { useState } from \"react\";\r\nimport \"./styles/dropdown.css\";\r\nconst Dropdown = ({ title, content }) => {\r\n  const [isShow, setIsShow] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`dropdown--custom mt-3 ${isShow ? \"active\" : \" \"} `}\r\n        onClick={() => setIsShow(!isShow)}\r\n      >\r\n        <h5>{title}</h5>\r\n        <i className={`fa fa-angle-left ${isShow ? \"active\" : \" \"} `}></i>\r\n      </div>\r\n\r\n      <div style={{ display: isShow ? \"block\" : \"none\" }}>{content}</div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dropdown;\r\n","import { useDispatch } from \"react-redux\";\r\nimport { putRemoveChatMember } from \"../../store/actions/user.action\";\r\nimport \"./styles/chatSettingOption.css\";\r\n\r\nconst ChatSettingOption = ({ creds, chat }) => {\r\n  const dispatch = useDispatch();\r\n  const handleSignOut = () => {\r\n    localStorage.removeItem(\"username\");\r\n    localStorage.removeItem(\"password\");\r\n\r\n    window.location.reload();\r\n  };\r\n  const handleLeaveChat = () => {\r\n    const username = localStorage.getItem(\"username\");\r\n    dispatch(putRemoveChatMember(chat?.id, username));\r\n  };\r\n  return (\r\n    <div className=\"content__options\">\r\n      <div onClick={handleLeaveChat}>Leave room chat</div>\r\n      <div onClick={handleSignOut}>Sign out</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatSettingOption;\r\n","import { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst SelectComp = ({ options, changeSelected, value }) => {\r\n  const handleChange = (value) => {\r\n    changeSelected(value);\r\n  };\r\n\r\n  const children = () => {\r\n    return options.map((item, index) => (\r\n      <Option key={index} value={item.value}>\r\n        <div className=\"d-flex align-items-center\">\r\n          <img\r\n            src={item?.avatar}\r\n            alt=\"user-avatar\"\r\n            style={{\r\n              width: \"20px\",\r\n              height: \"20px\",\r\n              borderRadius: \"50%\",\r\n              marginRight: \"10px\",\r\n            }}\r\n          />\r\n          <span>{item.name}</span>\r\n        </div>\r\n      </Option>\r\n    ));\r\n  };\r\n  return (\r\n    <Select\r\n      mode=\"multiple\"\r\n      allowClear\r\n      value={value}\r\n      style={{ width: \"100%\" }}\r\n      placeholder=\"Choose User\"\r\n      onChange={handleChange}\r\n    >\r\n      {children()}\r\n    </Select>\r\n  );\r\n};\r\n\r\nexport default SelectComp;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getOtherUsers,\r\n  postAddChatMember,\r\n  putRemoveChatMember,\r\n} from \"../../store/actions/user.action\";\r\nimport SelectComp from \"../Utils/Select\";\r\nimport \"./styles/chatSettingPeople.css\";\r\nimport Dialog from \"../Utils/Dialog\";\r\n\r\nconst ChatSettingPeople = ({ chat }) => {\r\n  const dispatch = useDispatch();\r\n  const [otherUsers, setOtherUsers] = useState([]);\r\n  const [isShowAddMember, setIsShowAddMember] = useState(false);\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n  const [isShowDialog, setIsShowDialog] = useState(false);\r\n  const [contentRemove, setContentRemove] = useState(null);\r\n  const [selectedUserRemove, setSelectedUserRemove] = useState(\"\");\r\n\r\n  const otherUsersStore = useSelector((state) => state.chatReducer.otherUsers);\r\n\r\n  const handleAddMember = () => {\r\n    if (isShowAddMember) {\r\n      // Submit\r\n      if (selectedUsers.length > 0) {\r\n        dispatch(postAddChatMember(chat?.id, selectedUsers));\r\n      }\r\n      setOtherUsers([]);\r\n      setSelectedUsers([]);\r\n      setIsShowAddMember(false);\r\n    } else {\r\n      // Show and get api others user\r\n      dispatch(getOtherUsers(chat?.id));\r\n\r\n      setIsShowAddMember(true);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const options = [];\r\n    otherUsersStore.map((user) => {\r\n      options.push({\r\n        name: user.username,\r\n        value: user.username,\r\n        avatar: user.avatar,\r\n      });\r\n    });\r\n    setOtherUsers(options);\r\n  }, [otherUsersStore]);\r\n  const handleRemoveMember = () => {\r\n    dispatch(putRemoveChatMember(chat?.id, selectedUserRemove));\r\n    setSelectedUserRemove(\"\");\r\n    setIsShowDialog(false);\r\n  };\r\n  const onShowDialog = (userRemoved) => {\r\n    setContentRemove(\r\n      <div className=\"text-center\">\r\n        Do you want to remove{\" \"}\r\n        <span style={{ fontWeight: \"500\" }}>{userRemoved}?</span>\r\n      </div>\r\n    );\r\n    setSelectedUserRemove(userRemoved);\r\n    setIsShowDialog(true);\r\n  };\r\n  const renderListPeople = () => {\r\n    return chat?.people?.map((person, index) => {\r\n      return (\r\n        <div className=\"chatMember\" key={`person_${index}`}>\r\n          <div className=\"chatMember__avatar\">\r\n            <img\r\n              className=\"chatMember__avatar\"\r\n              src={person.person.avatar}\r\n              alt=\"person-avatar\"\r\n            />\r\n            {person.person.username !== localStorage.getItem(\"username\") && (\r\n              <span\r\n                className={`chatMember__status\r\n              ${person.person.is_online ? \"online\" : \"\"}`}\r\n              ></span>\r\n            )}\r\n          </div>\r\n          <span className=\"chatMember__name\">{person.person.username}</span>\r\n          {person.person.username !== localStorage.getItem(\"username\") ? (\r\n            <button\r\n              className=\"chatMember__remove\"\r\n              onClick={() => onShowDialog(person.person.username)}\r\n            >\r\n              Remove\r\n            </button>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <Dialog\r\n        type={\"form\"}\r\n        isShow={isShowDialog}\r\n        content={contentRemove}\r\n        title={\"Remove Member\"}\r\n        handleHideDialog={() => {\r\n          setIsShowDialog(false);\r\n        }}\r\n        onSubmit={handleRemoveMember}\r\n      />\r\n      <div\r\n        style={{\r\n          display: isShowAddMember ? \"block\" : \"none\",\r\n          marginTop: \"10px\",\r\n        }}\r\n      >\r\n        <SelectComp\r\n          options={otherUsers}\r\n          value={selectedUsers}\r\n          changeSelected={(value) => {\r\n            setSelectedUsers(value);\r\n          }}\r\n        />\r\n      </div>\r\n      <button className=\"button--add-member\" onClick={handleAddMember}>\r\n        {isShowAddMember ? \"Confirm\" : \"Add member +\"}\r\n      </button>\r\n      {renderListPeople()}\r\n    </>\r\n  );\r\n};\r\nexport default ChatSettingPeople;\r\n","import { useState } from \"react\";\r\nimport \"./styles/chatSettingPhoto.css\";\r\nimport DefaultImage from \"../../assets/img/default-image.jpg\";\r\nimport Dialog from \"../Utils/Dialog\";\r\n\r\nconst ChatSettingPhoto = ({ chat }) => {\r\n  const [file, setFile] = useState(\"\");\r\n  const [isShowModal, setIsShowModal] = useState(false);\r\n  const [isLoadingImg, setIsLoadingImg] = useState(true);\r\n  // console.log(\"CHAT PHOTOS\", chat);\r\n\r\n  const handleOpenImage = (file) => {\r\n    setFile(file);\r\n    setIsShowModal(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog\r\n        content={file}\r\n        isShow={isShowModal}\r\n        handleHideDialog={() => {\r\n          setIsShowModal(false);\r\n        }}\r\n      />\r\n      <div\r\n        className=\"row m-0\"\r\n        style={{\r\n          overflowY: \"scroll\",\r\n          height: \"200px\",\r\n          maxHeight: \"200px\",\r\n          paddingBottom: \"10px\",\r\n          paddingTop: \"10px\",\r\n        }}\r\n      >\r\n        {chat?.attachments?.map((item, index) => {\r\n          if (item.file.includes(\".mp4\")) {\r\n            return (\r\n              <div\r\n                key={`file_${index}`}\r\n                style={{\r\n                  height: \"100px\",\r\n                  width: \"30%\",\r\n                  margin: \"3px\",\r\n                  flex: \"0 0 auto\",\r\n                  padding: \"0\",\r\n                }}\r\n              >\r\n                <video style={{ width: \"100%\", height: \"100px\" }} controls>\r\n                  <source src={item.file} type=\"video/mp4\" />\r\n                </video>\r\n              </div>\r\n            );\r\n          }\r\n\r\n          return (\r\n            <div\r\n              key={`file_${index}`}\r\n              style={{\r\n                backgroundImage: `url(${\r\n                  isLoadingImg ? DefaultImage : item.file\r\n                })`,\r\n                backgroundSize: \"cover\",\r\n                backgroundPosition: \"center\",\r\n                height: \"100px\",\r\n                cursor: \"pointer\",\r\n                width: \"30%\",\r\n                margin: \"3px\",\r\n                flex: \"0 0 auto\",\r\n                backgroundColor: \"#c3c3c3\",\r\n              }}\r\n              onClick={() => {\r\n                handleOpenImage(item.file);\r\n              }}\r\n            >\r\n              <img\r\n                src={item.file}\r\n                alt=\"message-attachment\"\r\n                className=\"d-none\"\r\n                onLoad={() => setIsLoadingImg(false)}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default ChatSettingPhoto;\r\n","import imgDefault from \"../../../src/assets/img/logo192.png\";\r\n\r\nconst ChatSettingTop = ({ title }) => {\r\n  return (\r\n    <div className=\"container text-center mt-3\">\r\n      <img\r\n        src={imgDefault}\r\n        alt=\"img-chat-room\"\r\n        style={{\r\n          borderRadius: \"50%\",\r\n          height: \"50px\",\r\n          width: \"50px\",\r\n          marginBottom: \"10px\",\r\n        }}\r\n      />\r\n      <div className=\"chat-title\">{title}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatSettingTop;\r\n","export default \"data:image/png;base64,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\"","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getChatDetail } from \"../../store/actions/chat.action\";\r\nimport Dropdown from \"../Utils/Dropdown\";\r\nimport ChatSettingOption from \"./ChatSettingOption\";\r\nimport ChatSettingPeople from \"./ChatSettingPeople\";\r\nimport ChatSettingPhoto from \"./ChatSettingPhoto\";\r\nimport ChatSettingTop from \"./ChatSettingTop\";\r\n\r\nconst ChatSettings = (props) => {\r\n  const dispatch = useDispatch();\r\n  const dataSetting = useSelector((state) => state.chatReducer.chatDetail);\r\n  const selectedChat = useSelector((state) => state.chatReducer.selectedChat);\r\n  useEffect(() => {\r\n    dispatch(getChatDetail(selectedChat));\r\n  }, []);\r\n  return (\r\n    <div style={{ padding: \"10px\" }} className=\"background--image-custom\">\r\n      <ChatSettingTop title={dataSetting?.title} />\r\n      <div style={{ overflowY: \"scroll\", maxHeight: \"80vh\" }}>\r\n        <Dropdown\r\n          title={`People (${dataSetting?.people?.length})`}\r\n          content={<ChatSettingPeople chat={dataSetting} />}\r\n        />\r\n        <Dropdown\r\n          title={`Photos (${dataSetting?.attachments?.length})`}\r\n          content={<ChatSettingPhoto chat={dataSetting} />}\r\n        />\r\n        <Dropdown\r\n          title={\"Options\"}\r\n          content={<ChatSettingOption chat={dataSetting} />}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ChatSettings;\r\n","import moment from \"moment\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { changeSelectedChat } from \"../../store/actions/chat.action\";\r\nimport \"./styles/chatCard.css\";\r\nconst ChatCard = ({ chat, selected }) => {\r\n  const dispatch = useDispatch();\r\n  const onChangeChat = () => {\r\n    dispatch(changeSelectedChat(chat?.id));\r\n  };\r\n  const handleText = () => {\r\n    let text = chat?.last_message?.text;\r\n\r\n    if (text !== \"\") {\r\n      // word include key space\r\n      // Ex: this is a word\r\n      if (text.split(\" \").length > 1) {\r\n        return text.split(\" \").map((word, index) => {\r\n          if (index < 5) {\r\n            return word + \" \";\r\n          }\r\n          if (index === 5) {\r\n            return \"...\";\r\n          }\r\n        });\r\n      }\r\n      // long word no space\r\n      // Ex: thisisawordddddddddddd\r\n      else {\r\n        if (text.length > 30) return text.slice(1, 30) + \"...\";\r\n        return text;\r\n      }\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      className={selected === chat?.id ? \"chatCard selected\" : \"chatCard\"}\r\n      onClick={onChangeChat}\r\n    >\r\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n        <p className=\"chatCard__title m-0\">{chat?.title}</p>\r\n        <span>\r\n          {chat?.last_message?.created\r\n            ? moment(chat?.last_message?.created).fromNow()\r\n            : moment(chat?.created).fromNow()}\r\n        </span>\r\n      </div>\r\n      {chat?.last_message?.sender?.username ? (\r\n        <div className=\"d-flex  align-items-center\">\r\n          <span style={{ fontWeight: \"500\", marginRight: \"5px\" }}>\r\n            {chat?.last_message?.sender?.username}:\r\n          </span>\r\n          <span>\r\n            {chat?.last_message?.attachments.length > 0\r\n              ? `sent ${chat?.last_message?.attachments.length} attachment`\r\n              : handleText()}\r\n          </span>\r\n        </div>\r\n      ) : (\r\n        <span style={{ fontWeight: \"500\" }}>\r\n          Let's say hi to other members{\" \"}\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default ChatCard;\r\n","import \"./styles/chatList.css\";\r\nimport ChatCard from \"./ChatCard\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getChatList,\r\n  changeSelectedChat,\r\n  createChat,\r\n} from \"../../store/actions/chat.action\";\r\nimport Dialog from \"../Utils/Dialog\";\r\nimport { getAllUser } from \"../../store/actions/user.action\";\r\nimport { Form, Input, Button, Checkbox, Divider } from \"antd\";\r\nimport {\r\n  NotificationContainer,\r\n  NotificationManager,\r\n} from \"react-notifications\";\r\n\r\nconst ChatList = ({ chats }) => {\r\n  // const [chatList, setchatList] = useState([])\r\n  // console.log(\"PROPS\", props);\r\n  const chatList = useSelector((state) => state.chatReducer.chatList);\r\n  const selectedChat = useSelector((state) => state.chatReducer.selectedChat);\r\n  const users = useSelector((state) => state.userReducer.allUser);\r\n  const notify = useSelector((state) => state.chatReducer.notify);\r\n  const dispatch = useDispatch();\r\n\r\n  const [isShowDialog, setIsShowDialog] = useState(false);\r\n  const [contentDialog, setContentDialog] = useState(null);\r\n\r\n  const [newChatTitle, setNewChatTitle] = useState(\"\");\r\n  const [selectedChatUsers, setSelectedChatUsers] = useState([\r\n    localStorage.getItem(\"username\"),\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!selectedChat) {\r\n      dispatch(changeSelectedChat(chatList[0]?.id));\r\n    }\r\n  }, [chatList]);\r\n\r\n  useEffect(() => {\r\n    if (notify.type) {\r\n      switch (notify.type) {\r\n        case \"CREATE_CHAT\":\r\n          notify.status === \"success\"\r\n            ? NotificationManager.success(notify.message, \"Create chat\")\r\n            : NotificationManager.error(notify.message, \"Create chat\");\r\n          break;\r\n        case \"error\":\r\n          NotificationManager.error(\"Error message\", \"Click me!\");\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }, [notify]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getChatList());\r\n  }, [chats ? chats[selectedChat] : \"\"]);\r\n\r\n  const renderChatCard = () => {\r\n    return chatList.map((chat, index) => {\r\n      return (\r\n        <div key={`chat_${index}`} style={{ width: \"100%\" }}>\r\n          <ChatCard chat={chat} selected={selectedChat} />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  //Create group chat\r\n  const handleShowDialog = () => {\r\n    dispatch(getAllUser());\r\n    setIsShowDialog(true);\r\n  };\r\n  const onChangeCheckbox = (e, username) => {\r\n    // console.log(`checked = ${e.target.checked} - ${username}`);\r\n    const checked = e.target.checked;\r\n    let newList = [...selectedChatUsers];\r\n    if (checked) {\r\n      newList.push(username);\r\n    } else {\r\n      newList = selectedChatUsers.filter(\r\n        (usernameCurrent) => usernameCurrent !== username\r\n      );\r\n    }\r\n    setSelectedChatUsers(newList);\r\n  };\r\n  const handleAddGroupChat = () => {\r\n    console.log(\"ONSUBMIT\", newChatTitle, selectedChatUsers);\r\n    dispatch(createChat(selectedChatUsers, newChatTitle));\r\n    setNewChatTitle(\"\");\r\n    setSelectedChatUsers([]);\r\n    setIsShowDialog(false);\r\n  };\r\n  useEffect(() => {\r\n    setContentDialog(\r\n      <div>\r\n        <div className=\"mb-2\">\r\n          <span style={{ width: \"100px\" }}>Chat title:</span>\r\n          <Input\r\n            placeholder=\"Input chat title\"\r\n            value={newChatTitle}\r\n            onChange={(e) => {\r\n              setNewChatTitle(e.target.value);\r\n            }}\r\n          />\r\n        </div>\r\n        <span>Choose member for this group:</span>\r\n        {users &&\r\n          users.map((user, index) => {\r\n            if (user.username !== localStorage.getItem(\"username\")) {\r\n              return (\r\n                <div\r\n                  style={{ width: \"100%\", margin: \"10px\" }}\r\n                  key={`index_checkbox_${index}`}\r\n                >\r\n                  <Checkbox\r\n                    onChange={(e) => {\r\n                      onChangeCheckbox(e, user?.username);\r\n                    }}\r\n                    checked={\r\n                      selectedChatUsers.findIndex(\r\n                        (username) => username === user.username\r\n                      ) !== -1\r\n                        ? true\r\n                        : false\r\n                    }\r\n                    key={`123_${index}`}\r\n                  >\r\n                    <div className=\"d-flex align-items-center\">\r\n                      <img\r\n                        src={user?.avatar}\r\n                        alt=\"user-avatar\"\r\n                        style={{\r\n                          width: \"50px\",\r\n                          height: \"50px\",\r\n                          borderRadius: \"50%\",\r\n                          marginRight: \"10px\",\r\n                        }}\r\n                      />\r\n                      <span>\r\n                        {user.username} - ({user.first_name + user.last_name})\r\n                      </span>\r\n                    </div>\r\n                  </Checkbox>\r\n                </div>\r\n              );\r\n            }\r\n          })}\r\n      </div>\r\n    );\r\n  }, [users, selectedChatUsers, newChatTitle]);\r\n\r\n  return (\r\n    <div className=\"chatList\">\r\n      <div className=\"chatList__header\">\r\n        <h3>My chatList</h3>\r\n        <button\r\n          className=\"chatList__header--button\"\r\n          title=\"Add group\"\r\n          onClick={handleShowDialog}\r\n        >\r\n          <i className=\"fa fa-users\"></i>+\r\n        </button>\r\n        <Dialog\r\n          isShow={isShowDialog}\r\n          content={contentDialog}\r\n          type={\"form\"}\r\n          title={\"Create group chat\"}\r\n          handleHideDialog={() => {\r\n            setIsShowDialog(false);\r\n          }}\r\n          onSubmit={handleAddGroupChat}\r\n        />\r\n      </div>\r\n      <div className=\"chatList__body\">{chatList && renderChatCard()}</div>\r\n      <NotificationContainer />\r\n    </div>\r\n  );\r\n};\r\nexport default ChatList;\r\n","import { ChatEngine } from \"react-chat-engine\";\r\nimport \"./App.css\";\r\nimport ChatFeed from \"./components/ChatFeed\";\r\nimport LoginForm from \"./components/LoginForm\";\r\nimport ChatSettings from \"./components/ChatSettings/\";\r\nimport ChatList from \"./components/ChatList\";\r\nimport Typing from \"./components/Typing\";\r\n\r\nconst App = () => {\r\n  if (!localStorage.getItem(\"username\")) return <LoginForm />;\r\n\r\n  return (\r\n    <ChatEngine\r\n      height=\"100vh\"\r\n      projectID=\"e078c6b8-8d92-4d9b-a130-9f7c1b64406f\"\r\n      userName={localStorage.getItem(\"username\")}\r\n      userSecret={localStorage.getItem(\"password\")}\r\n      // render custome component\r\n\r\n      renderChatFeed={(chatAppProps) => <ChatFeed {...chatAppProps} />}\r\n      renderChatSettings={(chatAppProps) => <ChatSettings {...chatAppProps} />}\r\n      renderChatList={(chatAppProps) => <ChatList {...chatAppProps} />}\r\n    ></ChatEngine>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import {\r\n  GET_CHAT_DETAIL,\r\n  GET_MESSAGES,\r\n  GET_LATEST_MESSAGE,\r\n  PATCH_READ_MESSAGE,\r\n  GET_CHAT_LIST,\r\n  CHANGE_SELECTED_CHAT,\r\n  LOADING_MESSAGE,\r\n  CREATE_CHAT,\r\n} from \"../constants/chat.constant\";\r\n\r\nconst initialState = {\r\n  chatUser: \"\",\r\n  chatList: [],\r\n  chatDetail: {},\r\n  messages: [],\r\n  latestMessage: [],\r\n  readMessage: {},\r\n  otherUsers: [],\r\n  selectedChat: null,\r\n  loadingMessage: true,\r\n  notify: { type: null, message: \"\", status: \"\" },\r\n};\r\n\r\nexport const chatReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case GET_CHAT_DETAIL:\r\n      return { ...state, chatDetail: payload };\r\n    case GET_MESSAGES:\r\n      return { ...state, messages: payload };\r\n    case GET_LATEST_MESSAGE:\r\n      return { ...state, latestMessage: payload };\r\n    case GET_CHAT_LIST:\r\n      return { ...state, chatList: payload };\r\n    case PATCH_READ_MESSAGE:\r\n      return { ...state, readMessage: payload };\r\n    case CHANGE_SELECTED_CHAT:\r\n      return { ...state, selectedChat: payload };\r\n    case LOADING_MESSAGE: {\r\n      return { ...state, loadingMessage: payload };\r\n    }\r\n    case CREATE_CHAT: {\r\n      return { ...state, notify: payload };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  GET_ALL_USER,\r\n  GET_CHAT_USER,\r\n  GET_OTHER_USERS,\r\n} from \"../constants/user.constant\";\r\n\r\nconst initialState = {\r\n  chatUser: \"\",\r\n  otherUsers: [],\r\n  allUser: [],\r\n};\r\n\r\nexport const userReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case GET_CHAT_USER:\r\n      return { ...state, chatUser: payload };\r\n    case GET_OTHER_USERS:\r\n      return { ...state, otherUsers: payload };\r\n    case GET_ALL_USER:\r\n      return { ...state, allUser: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { chatReducer } from \"./chat.reducer\";\r\nimport { userReducer } from \"./user.reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  userReducer,\r\n  chatReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport rootReducer from \"./reducers/root.reducer\";\r\nimport thunk from 'redux-thunk';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n// bootstrap\r\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"../node_modules/bootstrap/dist/js/bootstrap.min.js\";\r\nimport \"../node_modules/jquery/dist/jquery.min.js\";\r\nimport \"../node_modules/popper.js/dist/popper.min.js\";\r\n//Ant design\r\nimport \"../node_modules/antd/dist/antd.css\";\r\n//font awesome\r\nimport \"../node_modules/font-awesome/css/font-awesome.min.css\";\r\n//Loading\r\nimport \"../node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n//Redux\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/index\";\r\n\r\n//Notification\r\nimport \"react-notifications/lib/notifications.css\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <div\r\n      style={{\r\n        backgroundImage: \"url(./assets/img/background-purple-2.jpg)\",\r\n        backgroundPosition: \"center\",\r\n        backgroundSize: \"cover\",\r\n      }}\r\n    >\r\n      <App />\r\n    </div>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}